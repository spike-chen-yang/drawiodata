<mxfile host="Electron" modified="2023-08-03T03:27:26.835Z" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/21.6.5 Chrome/114.0.5735.243 Electron/25.3.1 Safari/537.36" etag="vE7S-c95ocmz_zrJ6BXQ" version="21.6.5" type="device">
  <diagram name="第 1 页" id="vyTfsc4ZExLEv9mUGcNe">
    <mxGraphModel dx="4452" dy="3469" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="8PCHkQpDkQ1QU76TVSa9-4" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=1;exitDx=0;exitDy=0;entryX=0.433;entryY=-0.05;entryDx=0;entryDy=0;entryPerimeter=0;curved=1;" parent="1" source="8PCHkQpDkQ1QU76TVSa9-1" target="8PCHkQpDkQ1QU76TVSa9-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8PCHkQpDkQ1QU76TVSa9-8" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;curved=1;" parent="1" source="8PCHkQpDkQ1QU76TVSa9-1" target="8PCHkQpDkQ1QU76TVSa9-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8PCHkQpDkQ1QU76TVSa9-1" value="&lt;div style=&quot;background-color: rgb(255, 255, 255); color: rgb(8, 8, 8); font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 9.8pt;&quot;&gt;&lt;div style=&quot;font-size: 9.8pt;&quot;&gt;func &lt;span style=&quot;color:#286d73;&quot;&gt;ListenAndServe&lt;/span&gt;(&lt;span style=&quot;color:#000000;&quot;&gt;addr &lt;/span&gt;&lt;span style=&quot;color:#0033b3;&quot;&gt;string&lt;/span&gt;, &lt;span style=&quot;color:#000000;&quot;&gt;handler &lt;/span&gt;&lt;span style=&quot;color:#336ecc;&quot;&gt;Handler&lt;/span&gt;) &lt;span style=&quot;color:#0033b3;&quot;&gt;error &lt;/span&gt;{&lt;br&gt;    &lt;span style=&quot;color:#000000;&quot;&gt;server &lt;/span&gt;:= &amp;amp;&lt;span style=&quot;color:#336ecc;&quot;&gt;Server&lt;/span&gt;{&lt;span style=&quot;color:#000000;&quot;&gt;Addr&lt;/span&gt;: &lt;span style=&quot;color:#000000;&quot;&gt;addr&lt;/span&gt;, &lt;span style=&quot;color:#000000;&quot;&gt;Handler&lt;/span&gt;: &lt;span style=&quot;color:#000000;&quot;&gt;handler&lt;/span&gt;}&lt;br&gt;    &lt;span style=&quot;color:#0033b3;&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;color:#000000;&quot;&gt;server&lt;/span&gt;.&lt;span style=&quot;color:#36666b;&quot;&gt;ListenAndServe&lt;/span&gt;()&lt;br&gt;}&lt;/div&gt;&lt;/div&gt;" style="ellipse;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="203.5" y="410" width="530" height="150" as="geometry" />
        </mxCell>
        <mxCell id="8PCHkQpDkQ1QU76TVSa9-5" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=1;exitDx=0;exitDy=0;curved=1;" parent="1" source="8PCHkQpDkQ1QU76TVSa9-2" target="8PCHkQpDkQ1QU76TVSa9-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8PCHkQpDkQ1QU76TVSa9-2" value="Server" style="ellipse;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="40" y="590" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="fvp-rPb5a8MHUD-0Nkch-4" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;curved=1;" parent="1" source="8PCHkQpDkQ1QU76TVSa9-3" target="fvp-rPb5a8MHUD-0Nkch-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8PCHkQpDkQ1QU76TVSa9-3" value="&lt;pre style=&quot;margin: 10px 8px; padding: 1em; outline: 0px; max-width: 100%; letter-spacing: 0.544px; color: rgb(88, 110, 117); background: rgb(253, 246, 227); font-size: 14px; text-align: left; line-height: 1.5; font-family: -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; overflow-x: auto; border-radius: 8px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;code style=&quot;margin: 0px; padding: 0px; outline: 0px; max-width: 100%; line-height: 1.75; font-family: Menlo, &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, monospace; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;type&amp;nbsp;Server&amp;nbsp;struct&amp;nbsp;{&lt;br style=&quot;margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//&amp;nbsp;server&amp;nbsp;的地址&lt;br style=&quot;margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Addr&amp;nbsp;string&lt;br style=&quot;margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//&amp;nbsp;路由处理器.&lt;br style=&quot;margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Handler&amp;nbsp;Handler&amp;nbsp;//&amp;nbsp;handler&amp;nbsp;to&amp;nbsp;invoke,&amp;nbsp;http.DefaultServeMux&amp;nbsp;if&amp;nbsp;nil&lt;br style=&quot;margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//&amp;nbsp;...&lt;br style=&quot;margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;/code&gt;&lt;/pre&gt;&lt;pre style=&quot;margin: 10px 8px; padding: 1em; outline: 0px; max-width: 100%; letter-spacing: 0.544px; color: rgb(88, 110, 117); background: rgb(253, 246, 227); font-size: 14px; text-align: left; line-height: 1.5; font-family: -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; overflow-x: auto; border-radius: 8px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;code style=&quot;margin: 0px; padding: 0px; outline: 0px; max-width: 100%; line-height: 1.75; font-family: Menlo, &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, monospace; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre style=&quot;margin: 10px 8px; padding: 1em; outline: 0px; max-width: 100%; letter-spacing: 0.544px; color: rgb(88, 110, 117); background: rgb(253, 246, 227); font-size: 14px; text-align: left; line-height: 1.5; font-family: -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; overflow-x: auto; border-radius: 8px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;code style=&quot;margin: 0px; padding: 0px; outline: 0px; max-width: 100%; line-height: 1.75; font-family: Menlo, &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, monospace; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;div style=&quot;background-color: rgb(255, 255, 255); color: rgb(8, 8, 8); font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 9.8pt;&quot;&gt;func (&lt;span style=&quot;color:#008a91;&quot;&gt;srv &lt;/span&gt;*&lt;span style=&quot;color:#336ecc;&quot;&gt;Server&lt;/span&gt;) &lt;span style=&quot;color:#286d73;&quot;&gt;ListenAndServe&lt;/span&gt;() &lt;span style=&quot;color:#0033b3;&quot;&gt;error &lt;/span&gt;{&lt;br&gt;    &lt;span style=&quot;color:#0033b3;&quot;&gt;if &lt;/span&gt;&lt;span style=&quot;color:#008a91;&quot;&gt;srv&lt;/span&gt;.&lt;span style=&quot;color:#36666b;&quot;&gt;shuttingDown&lt;/span&gt;() {&lt;br&gt;       &lt;span style=&quot;color:#0033b3;&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;color:#000000;&quot;&gt;ErrServerClosed&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#000000;&quot;&gt;    &lt;/span&gt;}&lt;br&gt;    &lt;span style=&quot;color:#000000;&quot;&gt;addr &lt;/span&gt;:= &lt;span style=&quot;color:#008a91;&quot;&gt;srv&lt;/span&gt;.&lt;span style=&quot;color:#000000;&quot;&gt;Addr&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#000000;&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color:#0033b3;&quot;&gt;if &lt;/span&gt;&lt;span style=&quot;color:#000000;&quot;&gt;addr &lt;/span&gt;== &lt;span style=&quot;color:#067d17;&quot;&gt;&quot;&quot; &lt;/span&gt;{&lt;br&gt;       &lt;span style=&quot;color:#000000;&quot;&gt;addr &lt;/span&gt;= &lt;span style=&quot;color:#067d17;&quot;&gt;&quot;:http&quot;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#067d17;&quot;&gt;    &lt;/span&gt;}&lt;br&gt;    &lt;span style=&quot;color:#000000;&quot;&gt;ln&lt;/span&gt;, &lt;span style=&quot;color:#000000;&quot;&gt;err &lt;/span&gt;:= &lt;span style=&quot;color:#805900;&quot;&gt;net&lt;/span&gt;.&lt;span style=&quot;color:#36666b;&quot;&gt;Listen&lt;/span&gt;(&lt;span style=&quot;color:#067d17;&quot;&gt;&quot;tcp&quot;&lt;/span&gt;, &lt;span style=&quot;color:#000000;&quot;&gt;addr&lt;/span&gt;)&lt;br&gt;    &lt;span style=&quot;color:#0033b3;&quot;&gt;if &lt;/span&gt;&lt;span style=&quot;color:#000000;&quot;&gt;err &lt;/span&gt;!= &lt;span style=&quot;color:#0033b3;&quot;&gt;nil &lt;/span&gt;{&lt;br&gt;       &lt;span style=&quot;color:#0033b3;&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;color:#000000;&quot;&gt;err&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#000000;&quot;&gt;    &lt;/span&gt;}&lt;br&gt;    &lt;span style=&quot;color:#0033b3;&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;color:#008a91;&quot;&gt;srv&lt;/span&gt;.&lt;span style=&quot;color:#36666b;&quot;&gt;Serve&lt;/span&gt;(&lt;span style=&quot;color:#000000;&quot;&gt;ln&lt;/span&gt;)&lt;br&gt;}&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;" style="ellipse;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1290" y="540" width="910" height="890" as="geometry" />
        </mxCell>
        <mxCell id="8PCHkQpDkQ1QU76TVSa9-10" style="edgeStyle=orthogonalEdgeStyle;shape=connector;curved=1;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;" parent="1" source="8PCHkQpDkQ1QU76TVSa9-7" target="8PCHkQpDkQ1QU76TVSa9-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8PCHkQpDkQ1QU76TVSa9-11" value="每个协程真正调用对应handler的方法" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="8PCHkQpDkQ1QU76TVSa9-10" vertex="1" connectable="0">
          <mxGeometry x="-0.0267" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fvp-rPb5a8MHUD-0Nkch-2" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;curved=1;" parent="1" source="8PCHkQpDkQ1QU76TVSa9-7" target="8PCHkQpDkQ1QU76TVSa9-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8PCHkQpDkQ1QU76TVSa9-7" value="&lt;div style=&quot;background-color: rgb(255, 255, 255); color: rgb(8, 8, 8); font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 9.8pt;&quot;&gt;server.&lt;span style=&quot;color:#36666b;&quot;&gt;ListenAndServe&lt;/span&gt;()&lt;/div&gt;" style="ellipse;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="335" y="780" width="300" height="70" as="geometry" />
        </mxCell>
        <mxCell id="8PCHkQpDkQ1QU76TVSa9-13" style="edgeStyle=orthogonalEdgeStyle;shape=connector;curved=1;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.476;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;" parent="1" source="8PCHkQpDkQ1QU76TVSa9-9" target="8PCHkQpDkQ1QU76TVSa9-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8PCHkQpDkQ1QU76TVSa9-9" value="&lt;div style=&quot;background-color: rgb(255, 255, 255); color: rgb(8, 8, 8); font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 9.8pt;&quot;&gt;serverHandler{&lt;span style=&quot;color:#008a91;&quot;&gt;c&lt;/span&gt;.&lt;span style=&quot;color:#000000;&quot;&gt;server&lt;/span&gt;}.&lt;span style=&quot;color:#36666b;&quot;&gt;ServeHTTP&lt;/span&gt;(&lt;span style=&quot;color:#000000;&quot;&gt;w&lt;/span&gt;, &lt;span style=&quot;color:#000000;&quot;&gt;w&lt;/span&gt;.&lt;span style=&quot;color:#000000;&quot;&gt;req&lt;/span&gt;)&lt;/div&gt;" style="ellipse;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontSize=11;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="267" y="1000" width="436" height="160" as="geometry" />
        </mxCell>
        <mxCell id="fvp-rPb5a8MHUD-0Nkch-9" style="edgeStyle=orthogonalEdgeStyle;shape=connector;curved=1;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0;exitDx=0;exitDy=0;entryX=0.51;entryY=1.005;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;entryPerimeter=0;" parent="1" source="8PCHkQpDkQ1QU76TVSa9-12" target="fvp-rPb5a8MHUD-0Nkch-8" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="972" y="1357" />
              <mxPoint x="1460" y="1357" />
              <mxPoint x="1460" y="1220" />
              <mxPoint x="1500" y="1220" />
              <mxPoint x="1500" y="1162" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fvp-rPb5a8MHUD-0Nkch-13" style="edgeStyle=orthogonalEdgeStyle;shape=connector;curved=1;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;" parent="1" source="8PCHkQpDkQ1QU76TVSa9-12" target="fvp-rPb5a8MHUD-0Nkch-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8PCHkQpDkQ1QU76TVSa9-12" value="&lt;div style=&quot;background-color: rgb(255, 255, 255); color: rgb(8, 8, 8); font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 9.8pt;&quot;&gt;&lt;pre style=&quot;border-color: var(--border-color); margin: 10px 8px; padding: 1em; outline: 0px; max-width: 100%; letter-spacing: 0.544px; color: rgb(88, 110, 117); background: rgb(253, 246, 227); font-size: 14px; text-align: left; line-height: 1.5; font-family: -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; overflow-x: auto; border-radius: 8px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;div style=&quot;background-color: rgb(255, 255, 255); color: rgb(8, 8, 8); font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 9.8pt;&quot;&gt;func (&lt;span style=&quot;color:#008a91;&quot;&gt;sh &lt;/span&gt;&lt;span style=&quot;color:#336ecc;&quot;&gt;serverHandler&lt;/span&gt;) &lt;span style=&quot;color:#286d73;&quot;&gt;ServeHTTP&lt;/span&gt;(&lt;span style=&quot;color:#000000;&quot;&gt;rw &lt;/span&gt;&lt;span style=&quot;color:#336ecc;&quot;&gt;ResponseWriter&lt;/span&gt;, &lt;span style=&quot;color:#000000;&quot;&gt;req &lt;/span&gt;*&lt;span style=&quot;color:#336ecc;&quot;&gt;Request&lt;/span&gt;) {&lt;br&gt;    &lt;span style=&quot;color:#000000;&quot;&gt;handler &lt;/span&gt;:= &lt;span style=&quot;color:#008a91;&quot;&gt;sh&lt;/span&gt;.&lt;span style=&quot;color:#000000;&quot;&gt;srv&lt;/span&gt;.&lt;span style=&quot;color:#000000;&quot;&gt;Handler&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#000000;&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color:#0033b3;&quot;&gt;if &lt;/span&gt;&lt;span style=&quot;color:#000000;&quot;&gt;handler &lt;/span&gt;== &lt;span style=&quot;color:#0033b3;&quot;&gt;nil &lt;/span&gt;{&lt;br&gt;       &lt;span style=&quot;color:#000000;&quot;&gt;handler &lt;/span&gt;= &lt;span style=&quot;color:#000000;&quot;&gt;DefaultServeMux&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#000000;&quot;&gt;    &lt;/span&gt;}&lt;br&gt;    ...&lt;br&gt;&lt;br&gt;    &lt;span style=&quot;color:#000000;&quot;&gt;handler&lt;/span&gt;.&lt;span style=&quot;color:#36666b;&quot;&gt;ServeHTTP&lt;/span&gt;(&lt;span style=&quot;color:#000000;&quot;&gt;rw&lt;/span&gt;, &lt;span style=&quot;color:#000000;&quot;&gt;req&lt;/span&gt;)&lt;br&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div style=&quot;background-color: rgb(255, 255, 255); color: rgb(8, 8, 8); font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 9.8pt;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;background-color: rgb(255, 255, 255); color: rgb(8, 8, 8); font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 9.8pt;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;background-color: rgb(255, 255, 255); color: rgb(8, 8, 8); font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 9.8pt;&quot;&gt;&lt;div style=&quot;font-size: 9.8pt;&quot;&gt;if handler 是一个接口&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;background-color: rgb(255, 255, 255); color: rgb(8, 8, 8); font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 9.8pt;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;background-color: rgb(255, 255, 255); color: rgb(8, 8, 8); font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 9.8pt;&quot;&gt;因为启动服务时候 handler接口 传入了 nil&lt;/div&gt;&lt;div style=&quot;background-color: rgb(255, 255, 255); color: rgb(8, 8, 8); font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 9.8pt;&quot;&gt;&lt;pre style=&quot;border-color: var(--border-color); margin: 10px 8px; padding: 1em; outline: 0px; max-width: 100%; letter-spacing: 0.544px; color: rgb(88, 110, 117); background: rgb(253, 246, 227); font-size: 14px; text-align: left; line-height: 1.5; font-family: -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; overflow-x: auto; border-radius: 8px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;code style=&quot;border-color: var(--border-color); margin: 0px; padding: 0px; outline: 0px; max-width: 100%; line-height: 1.75; font-family: Menlo, &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, monospace; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;http.ListenAndServe(&quot;:8091&quot;,&amp;nbsp;nil)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div style=&quot;background-color: rgb(255, 255, 255); color: rgb(8, 8, 8); font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 9.8pt;&quot;&gt;handler&amp;nbsp;&lt;span style=&quot;font-size: 13.0667px;&quot;&gt;==&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); font-size: 13.0667px; color: rgb(0, 51, 179);&quot;&gt;nil 此时 handler 为&amp;nbsp;&lt;/span&gt;&lt;br&gt;&lt;/div&gt;DefaultServeMux&lt;div style=&quot;background-color: rgb(255, 255, 255); color: rgb(8, 8, 8); font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 9.8pt;&quot;&gt;找到实现的方法&lt;/div&gt;&lt;div style=&quot;background-color: rgb(255, 255, 255); color: rgb(8, 8, 8); font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 9.8pt;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;background-color: rgb(255, 255, 255); color: rgb(8, 8, 8); font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 9.8pt;&quot;&gt;&lt;div style=&quot;font-size: 9.8pt;&quot;&gt;func (&lt;span style=&quot;color:#008a91;&quot;&gt;mux &lt;/span&gt;*&lt;span style=&quot;color:#336ecc;&quot;&gt;ServeMux&lt;/span&gt;) &lt;span style=&quot;color:#286d73;&quot;&gt;ServeHTTP&lt;/span&gt;(&lt;span style=&quot;color:#000000;&quot;&gt;w &lt;/span&gt;&lt;span style=&quot;color:#336ecc;&quot;&gt;ResponseWriter&lt;/span&gt;, &lt;span style=&quot;color:#000000;&quot;&gt;r &lt;/span&gt;*&lt;span style=&quot;color:#336ecc;&quot;&gt;Request）&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="ellipse;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontSize=11;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="-360" y="1770" width="1560" height="590" as="geometry" />
        </mxCell>
        <mxCell id="fvp-rPb5a8MHUD-0Nkch-5" style="edgeStyle=orthogonalEdgeStyle;shape=connector;curved=1;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;" parent="1" source="fvp-rPb5a8MHUD-0Nkch-3" target="8PCHkQpDkQ1QU76TVSa9-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="fvp-rPb5a8MHUD-0Nkch-3" value="&lt;div style=&quot;background-color: rgb(255, 255, 255); font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;pre style=&quot;border-color: var(--border-color); margin: 10px 8px; padding: 1em; outline: 0px; max-width: 100%; letter-spacing: 0.544px; background: rgb(253, 246, 227); text-align: left; line-height: 1.5; font-family: -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; overflow-x: auto; border-radius: 8px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;div style=&quot;font-size: 9.8pt; background-color: rgb(255, 255, 255); font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;span style=&quot;color: rgb(8, 8, 8);&quot;&gt;for {&lt;br&gt;    &lt;span style=&quot;color:#000000;&quot;&gt;rw&lt;/span&gt;, &lt;span style=&quot;color:#000000;&quot;&gt;err &lt;/span&gt;:= &lt;span style=&quot;color:#000000;&quot;&gt;l&lt;/span&gt;.&lt;span style=&quot;color:#36666b;&quot;&gt;Accept&lt;/span&gt;()&lt;br&gt;    &lt;/span&gt;&lt;font color=&quot;#0033b3&quot;&gt;...&lt;/font&gt;&lt;span style=&quot;color: rgb(140, 140, 140); font-style: italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(140, 140, 140); font-style: italic;&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: rgb(0, 51, 179);&quot;&gt;go &lt;/span&gt;&lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt;c&lt;/span&gt;&lt;font color=&quot;#080808&quot;&gt;.&lt;/font&gt;&lt;span style=&quot;color: rgb(54, 102, 107);&quot;&gt;serve&lt;/span&gt;&lt;font color=&quot;#080808&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt;connCtx&lt;/span&gt;&lt;font color=&quot;#080808&quot;&gt;)&lt;br&gt;}&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9.8pt; background-color: rgb(255, 255, 255); font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;font color=&quot;#080808&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9.8pt; background-color: rgb(255, 255, 255); font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;font color=&quot;#080808&quot;&gt;此处的 l listener 来自 &lt;/font&gt;srv&lt;span style=&quot;letter-spacing: 0.544px; color: rgb(8, 8, 8); font-size: 13.0667px;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;letter-spacing: 0.544px; border-color: var(--border-color); font-size: 13.0667px; color: rgb(54, 102, 107);&quot;&gt;Serve&lt;/span&gt;&lt;span style=&quot;letter-spacing: 0.544px; color: rgb(8, 8, 8); font-size: 13.0667px;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;letter-spacing: 0.544px; border-color: var(--border-color); font-size: 13.0667px;&quot;&gt;ln&lt;/span&gt;&lt;span style=&quot;letter-spacing: 0.544px; color: rgb(8, 8, 8); font-size: 13.0667px;&quot;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;background-color: rgb(255, 255, 255); font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;font color=&quot;#080808&quot;&gt;&lt;span style=&quot;font-size: 13.0667px;&quot;&gt;c 为通过 &lt;/span&gt;&lt;/font&gt;rw 获取的 connection&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;" style="ellipse;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1070" y="1660" width="470" height="260" as="geometry" />
        </mxCell>
        <mxCell id="fvp-rPb5a8MHUD-0Nkch-7" style="edgeStyle=orthogonalEdgeStyle;shape=connector;curved=1;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;" parent="1" source="fvp-rPb5a8MHUD-0Nkch-6" target="8PCHkQpDkQ1QU76TVSa9-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="fvp-rPb5a8MHUD-0Nkch-6" value="&lt;pre style=&quot;margin: 10px 8px; padding: 1em; outline: 0px; max-width: 100%; letter-spacing: 0.544px; color: rgb(88, 110, 117); background: rgb(253, 246, 227); font-size: 14px; text-align: left; line-height: 1.5; font-family: -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; overflow-x: auto; border-radius: 8px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;code style=&quot;margin: 0px; padding: 0px; outline: 0px; max-width: 100%; line-height: 1.75; font-family: Menlo, &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, monospace; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;http.ListenAndServe(&quot;:8091&quot;,&amp;nbsp;nil)&lt;/code&gt;&lt;/pre&gt;" style="ellipse;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontSize=11;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="191" y="90" width="555" height="150" as="geometry" />
        </mxCell>
        <mxCell id="fvp-rPb5a8MHUD-0Nkch-11" style="edgeStyle=orthogonalEdgeStyle;shape=connector;curved=1;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.507;exitY=-0.003;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;exitPerimeter=0;" parent="1" source="fvp-rPb5a8MHUD-0Nkch-8" target="fvp-rPb5a8MHUD-0Nkch-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="fvp-rPb5a8MHUD-0Nkch-8" value="DefaultServeMux&lt;br&gt;&lt;div style=&quot;background-color: rgb(255, 255, 255); color: rgb(8, 8, 8); font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 9.8pt;&quot;&gt;&lt;pre style=&quot;margin: 10px 8px; padding: 1em; outline: 0px; max-width: 100%; letter-spacing: 0.544px; color: rgb(88, 110, 117); background: rgb(253, 246, 227); font-size: 14px; text-align: left; line-height: 1.5; font-family: -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; overflow-x: auto; border-radius: 8px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;code style=&quot;margin: 0px; padding: 0px; outline: 0px; max-width: 100%; line-height: 1.75; font-family: Menlo, &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, monospace; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;type&amp;nbsp;ServeMux&amp;nbsp;struct&amp;nbsp;{&lt;br style=&quot;margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;mu&amp;nbsp;sync.RWMutex&lt;br style=&quot;margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;m&amp;nbsp;map[string]muxEntry&lt;br style=&quot;margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;es&amp;nbsp;[]muxEntry&amp;nbsp;//&amp;nbsp;slice&amp;nbsp;of&amp;nbsp;entries&amp;nbsp;sorted&amp;nbsp;from&amp;nbsp;longest&amp;nbsp;to&amp;nbsp;shortest.&lt;br style=&quot;margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;hosts&amp;nbsp;bool&amp;nbsp;//&amp;nbsp;whether&amp;nbsp;any&amp;nbsp;patterns&amp;nbsp;contain&amp;nbsp;hostnames&lt;br style=&quot;margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;/code&gt;&lt;/pre&gt;&lt;pre style=&quot;margin: 10px 8px; padding: 1em; outline: 0px; max-width: 100%; letter-spacing: 0.544px; color: rgb(88, 110, 117); background: rgb(253, 246, 227); font-size: 14px; text-align: left; line-height: 1.5; font-family: -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; overflow-x: auto; border-radius: 8px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;code style=&quot;margin: 0px; padding: 0px; outline: 0px; max-width: 100%; line-height: 1.75; font-family: Menlo, &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, monospace; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;ServeMux 是对 Handler 的具体实现，内部通过一个 map 维护了从 path 到 handler 的映射关系.&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;" style="ellipse;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontSize=11;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="980" y="740" width="980" height="360" as="geometry" />
        </mxCell>
        <mxCell id="fvp-rPb5a8MHUD-0Nkch-10" value="&lt;pre style=&quot;margin: 10px 8px; padding: 1em; outline: 0px; max-width: 100%; letter-spacing: 0.544px; color: rgb(88, 110, 117); background: rgb(253, 246, 227); font-size: 14px; text-align: left; line-height: 1.5; font-family: -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; overflow-x: auto; border-radius: 8px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;code style=&quot;margin: 0px; padding: 0px; outline: 0px; max-width: 100%; line-height: 1.75; font-family: Menlo, &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, monospace; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;type&amp;nbsp;muxEntry&amp;nbsp;struct&amp;nbsp;{&lt;br style=&quot;margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;h&amp;nbsp;Handler&lt;br style=&quot;margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;pattern&amp;nbsp;string&amp;nbsp;&lt;br style=&quot;margin: 0px; padding: 0px; outline: 0px; max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;}&lt;/code&gt;&lt;/pre&gt;&lt;pre style=&quot;margin: 10px 8px; padding: 1em; outline: 0px; max-width: 100%; letter-spacing: 0.544px; color: rgb(88, 110, 117); background: rgb(253, 246, 227); font-size: 14px; text-align: left; line-height: 1.5; font-family: -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; overflow-x: auto; border-radius: 8px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;code style=&quot;margin: 0px; padding: 0px; outline: 0px; max-width: 100%; line-height: 1.75; font-family: Menlo, &amp;quot;Operator Mono&amp;quot;, Consolas, Monaco, monospace; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;muxEntry 为一个 handler 单元，内部包含了请求路径 path + 处理函数 handler 两部分.&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;" style="ellipse;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontSize=11;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="1140" y="40" width="810" height="320" as="geometry" />
        </mxCell>
        <mxCell id="fvp-rPb5a8MHUD-0Nkch-29" style="edgeStyle=orthogonalEdgeStyle;shape=connector;curved=1;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;" parent="1" source="fvp-rPb5a8MHUD-0Nkch-12" target="fvp-rPb5a8MHUD-0Nkch-28" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="fvp-rPb5a8MHUD-0Nkch-12" value="&lt;pre style=&quot;border-color: var(--border-color); margin: 10px 8px; padding: 1em; outline: 0px; max-width: 100%; letter-spacing: 0.544px; color: rgb(88, 110, 117); background: rgb(253, 246, 227); font-size: 14px; text-align: left; line-height: 1.5; font-family: -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; overflow-x: auto; border-radius: 8px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;div style=&quot;background-color: rgb(255, 255, 255); color: rgb(8, 8, 8); font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 9.8pt;&quot;&gt; func (&lt;span style=&quot;color:#008a91;&quot;&gt;mux &lt;/span&gt;*&lt;span style=&quot;color:#336ecc;&quot;&gt;ServeMux&lt;/span&gt;) &lt;span style=&quot;color:#286d73;&quot;&gt;ServeHTTP&lt;/span&gt;(&lt;span style=&quot;color:#000000;&quot;&gt;w &lt;/span&gt;&lt;span style=&quot;color:#336ecc;&quot;&gt;ResponseWriter&lt;/span&gt;, &lt;span style=&quot;color:#000000;&quot;&gt;r &lt;/span&gt;*&lt;span style=&quot;color:#336ecc;&quot;&gt;Request&lt;/span&gt;) {&lt;br&gt;    &lt;span style=&quot;color:#0033b3;&quot;&gt;if &lt;/span&gt;&lt;span style=&quot;color:#000000;&quot;&gt;r&lt;/span&gt;.&lt;span style=&quot;color:#000000;&quot;&gt;RequestURI &lt;/span&gt;== &lt;span style=&quot;color:#067d17;&quot;&gt;&quot;*&quot; &lt;/span&gt;{&lt;br&gt;       &lt;span style=&quot;color:#0033b3;&quot;&gt;if &lt;/span&gt;&lt;span style=&quot;color:#000000;&quot;&gt;r&lt;/span&gt;.&lt;span style=&quot;color:#36666b;&quot;&gt;ProtoAtLeast&lt;/span&gt;(&lt;span style=&quot;color:#1750eb;&quot;&gt;1&lt;/span&gt;, &lt;span style=&quot;color:#1750eb;&quot;&gt;1&lt;/span&gt;) {&lt;br&gt;          &lt;span style=&quot;color:#000000;&quot;&gt;w&lt;/span&gt;.&lt;span style=&quot;color:#36666b;&quot;&gt;Header&lt;/span&gt;().&lt;span style=&quot;color:#36666b;&quot;&gt;Set&lt;/span&gt;(&lt;span style=&quot;color:#067d17;&quot;&gt;&quot;Connection&quot;&lt;/span&gt;, &lt;span style=&quot;color:#067d17;&quot;&gt;&quot;close&quot;&lt;/span&gt;)&lt;br&gt;       }&lt;br&gt;       &lt;span style=&quot;color:#000000;&quot;&gt;w&lt;/span&gt;.&lt;span style=&quot;color:#36666b;&quot;&gt;WriteHeader&lt;/span&gt;(&lt;span style=&quot;color:#871094;&quot;&gt;StatusBadRequest&lt;/span&gt;)&lt;br&gt;       &lt;span style=&quot;color:#0033b3;&quot;&gt;return&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#0033b3;&quot;&gt;    &lt;/span&gt;}&lt;br&gt;    &lt;span style=&quot;color:#000000;&quot;&gt;h&lt;/span&gt;, &lt;span style=&quot;color:#000000;&quot;&gt;_ &lt;/span&gt;:= &lt;span style=&quot;color:#008a91;&quot;&gt;mux&lt;/span&gt;.&lt;span style=&quot;color:#36666b;&quot;&gt;Handler&lt;/span&gt;(&lt;span style=&quot;color:#000000;&quot;&gt;r&lt;/span&gt;)&lt;/div&gt;&lt;div style=&quot;background-color: rgb(255, 255, 255); color: rgb(8, 8, 8); font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 9.8pt;&quot;&gt;    // 根据 http 请求 Request 中的请求路径 path 映射到对应的 handler 处理函数，对请求进行处理和响应.&lt;/div&gt;&lt;div style=&quot;background-color: rgb(255, 255, 255); color: rgb(8, 8, 8); font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 9.8pt;&quot;&gt;    // 真正的最后一步&lt;/div&gt;&lt;div style=&quot;background-color: rgb(255, 255, 255); color: rgb(8, 8, 8); font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 9.8pt;&quot;&gt;    // 这里的 h 就是注册时候的 HandlerFunc 结构体&lt;/div&gt;&lt;div style=&quot;background-color: rgb(255, 255, 255); color: rgb(8, 8, 8); font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 9.8pt;&quot;&gt;    // &lt;/div&gt;&lt;div style=&quot;background-color: rgb(255, 255, 255); color: rgb(8, 8, 8); font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 9.8pt;&quot;&gt;    &lt;span style=&quot;color:#000000;&quot;&gt;h&lt;/span&gt;.&lt;span style=&quot;color:#36666b;&quot;&gt;ServeHTTP&lt;/span&gt;(&lt;span style=&quot;color:#000000;&quot;&gt;w&lt;/span&gt;, &lt;span style=&quot;color:#000000;&quot;&gt;r&lt;/span&gt;)&lt;br&gt;}&lt;/div&gt;&lt;/pre&gt;" style="ellipse;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontSize=11;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="-110" y="2640" width="970" height="430" as="geometry" />
        </mxCell>
        <mxCell id="fvp-rPb5a8MHUD-0Nkch-22" style="edgeStyle=orthogonalEdgeStyle;shape=connector;curved=1;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;" parent="1" source="fvp-rPb5a8MHUD-0Nkch-14" target="fvp-rPb5a8MHUD-0Nkch-21" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="fvp-rPb5a8MHUD-0Nkch-30" style="edgeStyle=orthogonalEdgeStyle;shape=connector;curved=1;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.994;exitY=0.45;exitDx=0;exitDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitPerimeter=0;" parent="1" source="fvp-rPb5a8MHUD-0Nkch-14" target="fvp-rPb5a8MHUD-0Nkch-28" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="872" y="-430" as="sourcePoint" />
            <mxPoint x="780" y="3435" as="targetPoint" />
            <Array as="points">
              <mxPoint x="823" y="-430" />
              <mxPoint x="2365" y="-430" />
              <mxPoint x="2365" y="3360" />
              <mxPoint x="1230" y="3360" />
              <mxPoint x="1230" y="3365" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fvp-rPb5a8MHUD-0Nkch-14" value="&lt;div style=&quot;background-color: rgb(255, 255, 255); color: rgb(8, 8, 8); font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 9.8pt;&quot;&gt;http.&lt;span style=&quot;color:#36666b;&quot;&gt;HandleFunc&lt;/span&gt;(&lt;span style=&quot;color:#067d17;&quot;&gt;&quot;/ping&quot;&lt;/span&gt;, &lt;span style=&quot;color:#0033b3;&quot;&gt;func&lt;/span&gt;(&lt;span style=&quot;color:#000000;&quot;&gt;w &lt;/span&gt;&lt;span style=&quot;color:#805900;&quot;&gt;http&lt;/span&gt;.&lt;span style=&quot;color:#336ecc;&quot;&gt;ResponseWriter&lt;/span&gt;, &lt;span style=&quot;color:#000000;&quot;&gt;r &lt;/span&gt;*&lt;span style=&quot;color:#805900;&quot;&gt;http&lt;/span&gt;.&lt;span style=&quot;color:#336ecc;&quot;&gt;Request&lt;/span&gt;) {&lt;br&gt;    &lt;span style=&quot;color:#000000;&quot;&gt;w&lt;/span&gt;.&lt;span style=&quot;color:#36666b;&quot;&gt;Write&lt;/span&gt;([]&lt;span style=&quot;color:#0033b3;&quot;&gt;byte&lt;/span&gt;(&lt;span style=&quot;color:#067d17;&quot;&gt;&quot;pong&quot;&lt;/span&gt;))&lt;br&gt;})&lt;/div&gt;&lt;div style=&quot;background-color: rgb(255, 255, 255); color: rgb(8, 8, 8); font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 9.8pt;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;background-color: rgb(255, 255, 255); color: rgb(8, 8, 8); font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 9.8pt;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;background-color: rgb(255, 255, 255); color: rgb(8, 8, 8); font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 9.8pt;&quot;&gt;&lt;div style=&quot;font-size: 9.8pt;&quot;&gt;func &lt;span style=&quot;color:#286d73;&quot;&gt;HandleFunc&lt;/span&gt;(&lt;span style=&quot;color:#000000;&quot;&gt;pattern &lt;/span&gt;&lt;span style=&quot;color:#0033b3;&quot;&gt;string&lt;/span&gt;, &lt;span style=&quot;color:#000000;&quot;&gt;handler &lt;/span&gt;&lt;span style=&quot;color:#0033b3;&quot;&gt;func&lt;/span&gt;(&lt;span style=&quot;color:#336ecc;&quot;&gt;ResponseWriter&lt;/span&gt;, *&lt;span style=&quot;color:#336ecc;&quot;&gt;Request&lt;/span&gt;)) {&lt;br&gt;    &lt;span style=&quot;color:#000000;&quot;&gt;DefaultServeMux&lt;/span&gt;.&lt;span style=&quot;color:#36666b;&quot;&gt;HandleFunc&lt;/span&gt;(&lt;span style=&quot;color:#000000;&quot;&gt;pattern&lt;/span&gt;, &lt;span style=&quot;color:#000000;&quot;&gt;handler&lt;/span&gt;)&lt;br&gt;}&lt;/div&gt;&lt;div style=&quot;font-size: 9.8pt;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9.8pt;&quot;&gt;这里是直接使用了全局变量&amp;nbsp;DefaultServeMux&lt;/div&gt;&lt;/div&gt;" style="ellipse;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontSize=11;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="126" y="-600" width="701" height="200" as="geometry" />
        </mxCell>
        <mxCell id="fvp-rPb5a8MHUD-0Nkch-16" style="edgeStyle=orthogonalEdgeStyle;shape=connector;curved=1;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;" parent="1" source="fvp-rPb5a8MHUD-0Nkch-15" target="fvp-rPb5a8MHUD-0Nkch-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="fvp-rPb5a8MHUD-0Nkch-17" value="启动服务" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="fvp-rPb5a8MHUD-0Nkch-16" vertex="1" connectable="0">
          <mxGeometry x="-0.2261" y="5" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fvp-rPb5a8MHUD-0Nkch-18" style="edgeStyle=orthogonalEdgeStyle;shape=connector;curved=1;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.488;entryY=1.007;entryDx=0;entryDy=0;entryPerimeter=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;" parent="1" source="fvp-rPb5a8MHUD-0Nkch-15" target="fvp-rPb5a8MHUD-0Nkch-14" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="fvp-rPb5a8MHUD-0Nkch-19" value="注册handler" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="fvp-rPb5a8MHUD-0Nkch-18" vertex="1" connectable="0">
          <mxGeometry x="-0.1179" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fvp-rPb5a8MHUD-0Nkch-15" value="http" style="ellipse;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontSize=11;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="409" y="-210" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="fvp-rPb5a8MHUD-0Nkch-25" style="edgeStyle=orthogonalEdgeStyle;shape=connector;curved=1;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;" parent="1" source="fvp-rPb5a8MHUD-0Nkch-21" target="fvp-rPb5a8MHUD-0Nkch-23" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="fvp-rPb5a8MHUD-0Nkch-27" style="edgeStyle=orthogonalEdgeStyle;shape=connector;curved=1;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;" parent="1" source="fvp-rPb5a8MHUD-0Nkch-21" target="fvp-rPb5a8MHUD-0Nkch-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="fvp-rPb5a8MHUD-0Nkch-21" value="&lt;div style=&quot;background-color: rgb(255, 255, 255); color: rgb(8, 8, 8); font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 9.8pt;&quot;&gt;func (&lt;span style=&quot;color:#008a91;&quot;&gt;mux &lt;/span&gt;*&lt;span style=&quot;color:#336ecc;&quot;&gt;ServeMux&lt;/span&gt;) &lt;span style=&quot;color:#286d73;&quot;&gt;HandleFunc&lt;/span&gt;(&lt;span style=&quot;color:#000000;&quot;&gt;pattern &lt;/span&gt;&lt;span style=&quot;color:#0033b3;&quot;&gt;string&lt;/span&gt;, &lt;span style=&quot;color:#000000;&quot;&gt;handler &lt;/span&gt;&lt;span style=&quot;color:#0033b3;&quot;&gt;func&lt;/span&gt;(&lt;span style=&quot;color:#336ecc;&quot;&gt;ResponseWriter&lt;/span&gt;, *&lt;span style=&quot;color:#336ecc;&quot;&gt;Request&lt;/span&gt;)) {&lt;br&gt;    &lt;span style=&quot;color:#0033b3;&quot;&gt;if &lt;/span&gt;&lt;span style=&quot;color:#000000;&quot;&gt;handler &lt;/span&gt;== &lt;span style=&quot;color:#0033b3;&quot;&gt;nil &lt;/span&gt;{&lt;br&gt;       &lt;span style=&quot;color:#0033b3;&quot;&gt;panic&lt;/span&gt;(&lt;span style=&quot;color:#067d17;&quot;&gt;&quot;http: nil handler&quot;&lt;/span&gt;)&lt;br&gt;    }&lt;br&gt;    &lt;span style=&quot;color:#008a91;&quot;&gt;mux&lt;/span&gt;.&lt;span style=&quot;color:#36666b;&quot;&gt;Handle&lt;/span&gt;(&lt;span style=&quot;color:#000000;&quot;&gt;pattern&lt;/span&gt;, &lt;span style=&quot;color:#336ecc;&quot;&gt;HandlerFunc&lt;/span&gt;(&lt;span style=&quot;color:#000000;&quot;&gt;handler&lt;/span&gt;))&lt;br&gt;}&lt;/div&gt;&lt;div style=&quot;background-color: rgb(255, 255, 255); color: rgb(8, 8, 8); font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 9.8pt;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;background-color: rgb(255, 255, 255); color: rgb(8, 8, 8); font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 9.8pt;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;background-color: rgb(255, 255, 255); color: rgb(8, 8, 8); font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 9.8pt;&quot;&gt;&amp;nbsp;将上一步的匿名函数强转成&amp;nbsp;HandlerFunc 结构体的原因是&lt;/div&gt;&lt;div style=&quot;background-color: rgb(255, 255, 255); color: rgb(8, 8, 8); font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 9.8pt;&quot;&gt;HandlerFunc 结构体实现了&amp;nbsp;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;background-color: rgb(255, 255, 255); color: rgb(8, 8, 8); font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 9.8pt;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;background-color: rgb(255, 255, 255); color: rgb(8, 8, 8); font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 9.8pt;&quot;&gt;&lt;div style=&quot;font-size: 9.8pt;&quot;&gt;type &lt;span style=&quot;color:#000000;&quot;&gt;Handler &lt;/span&gt;&lt;span style=&quot;color:#0033b3;&quot;&gt;interface &lt;/span&gt;{&lt;br&gt;    &lt;span style=&quot;color:#286d73;&quot;&gt;ServeHTTP&lt;/span&gt;(&lt;span style=&quot;color:#336ecc;&quot;&gt;ResponseWriter&lt;/span&gt;, *&lt;span style=&quot;color:#336ecc;&quot;&gt;Request&lt;/span&gt;)&lt;br&gt;}&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9.8pt;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 9.8pt;&quot;&gt;接口&lt;/div&gt;&lt;/div&gt;" style="ellipse;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontSize=11;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="-1610" y="-620" width="818" height="310" as="geometry" />
        </mxCell>
        <mxCell id="fvp-rPb5a8MHUD-0Nkch-23" value="&lt;pre style=&quot;margin: 10px 8px; padding: 1em; outline: 0px; max-width: 100%; letter-spacing: 0.544px; background: rgb(253, 246, 227); font-size: 14px; text-align: left; line-height: 1.5; font-family: -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; overflow-x: auto; border-radius: 8px; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;div style=&quot;background-color: rgb(255, 255, 255); font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 9.8pt;&quot;&gt;&lt;span style=&quot;color: rgb(8, 8, 8);&quot;&gt;func (&lt;span style=&quot;color:#008a91;&quot;&gt;mux &lt;/span&gt;*&lt;span style=&quot;color:#336ecc;&quot;&gt;ServeMux&lt;/span&gt;) &lt;span style=&quot;color:#286d73;&quot;&gt;Handle&lt;/span&gt;(&lt;span style=&quot;color:#000000;&quot;&gt;pattern &lt;/span&gt;&lt;span style=&quot;color:#0033b3;&quot;&gt;string&lt;/span&gt;, &lt;span style=&quot;color:#000000;&quot;&gt;handler &lt;/span&gt;&lt;span style=&quot;color:#336ecc;&quot;&gt;Handler&lt;/span&gt;) {&lt;br&gt;    &lt;span style=&quot;color:#008a91;&quot;&gt;mux&lt;/span&gt;.&lt;span style=&quot;color:#000000;&quot;&gt;mu&lt;/span&gt;.&lt;span style=&quot;color:#36666b;&quot;&gt;Lock&lt;/span&gt;()&lt;br&gt;    &lt;span style=&quot;color:#0033b3;&quot;&gt;defer &lt;/span&gt;&lt;span style=&quot;color:#008a91;&quot;&gt;mux&lt;/span&gt;.&lt;span style=&quot;color:#000000;&quot;&gt;mu&lt;/span&gt;.&lt;span style=&quot;color:#36666b;&quot;&gt;Unlock&lt;/span&gt;()&lt;br&gt;&lt;br&gt;    ...&lt;br&gt;&lt;br&gt;    &lt;span style=&quot;color:#0033b3;&quot;&gt;if &lt;/span&gt;&lt;span style=&quot;color:#008a91;&quot;&gt;mux&lt;/span&gt;.&lt;span style=&quot;color:#000000;&quot;&gt;m &lt;/span&gt;== &lt;span style=&quot;color:#0033b3;&quot;&gt;nil &lt;/span&gt;{&lt;br&gt;       &lt;span style=&quot;color:#008a91;&quot;&gt;mux&lt;/span&gt;.&lt;span style=&quot;color:#000000;&quot;&gt;m &lt;/span&gt;= &lt;span style=&quot;color:#00627a;&quot;&gt;make&lt;/span&gt;(&lt;span style=&quot;color:#0033b3;&quot;&gt;map&lt;/span&gt;[&lt;span style=&quot;color:#0033b3;&quot;&gt;string&lt;/span&gt;]&lt;span style=&quot;color:#336ecc;&quot;&gt;muxEntry&lt;/span&gt;)&lt;br&gt;    }&lt;br&gt;    &lt;span style=&quot;color:#000000;&quot;&gt;e &lt;/span&gt;:= &lt;span style=&quot;color:#336ecc;&quot;&gt;muxEntry&lt;/span&gt;{&lt;span style=&quot;color:#000000;&quot;&gt;h&lt;/span&gt;: &lt;span style=&quot;color:#000000;&quot;&gt;handler&lt;/span&gt;, &lt;span style=&quot;color:#000000;&quot;&gt;pattern&lt;/span&gt;: &lt;span style=&quot;color:#000000;&quot;&gt;pattern&lt;/span&gt;}&lt;br&gt;    &lt;span style=&quot;color:#008a91;&quot;&gt;mux&lt;/span&gt;.&lt;span style=&quot;color:#000000;&quot;&gt;m&lt;/span&gt;[&lt;span style=&quot;color:#000000;&quot;&gt;pattern&lt;/span&gt;] = &lt;span style=&quot;color:#000000;&quot;&gt;e&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#000000;&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color:#0033b3;&quot;&gt;if &lt;/span&gt;&lt;span style=&quot;color:#000000;&quot;&gt;pattern&lt;/span&gt;[&lt;span style=&quot;color:#0033b3;&quot;&gt;len&lt;/span&gt;(&lt;span style=&quot;color:#000000;&quot;&gt;pattern&lt;/span&gt;)-&lt;span style=&quot;color:#1750eb;&quot;&gt;1&lt;/span&gt;] == &lt;span style=&quot;color:#067d17;&quot;&gt;&#39;/&#39; &lt;/span&gt;{&lt;br&gt;       &lt;span style=&quot;color:#008a91;&quot;&gt;mux&lt;/span&gt;.&lt;span style=&quot;color:#000000;&quot;&gt;es &lt;/span&gt;= &lt;span style=&quot;color:#36666b;&quot;&gt;appendSorted&lt;/span&gt;(&lt;span style=&quot;color:#008a91;&quot;&gt;mux&lt;/span&gt;.&lt;span style=&quot;color:#000000;&quot;&gt;es&lt;/span&gt;, &lt;span style=&quot;color:#000000;&quot;&gt;e&lt;/span&gt;)&lt;br&gt;    }&lt;br&gt;&lt;br&gt;    &lt;/span&gt;&lt;font color=&quot;#0033b3&quot;&gt;...&lt;/font&gt;&lt;font color=&quot;#080808&quot;&gt;&lt;br&gt;}&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;background-color: rgb(255, 255, 255); font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 9.8pt;&quot;&gt;&lt;font color=&quot;#080808&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;background-color: rgb(255, 255, 255); font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 9.8pt;&quot;&gt;还是在全局变量 DefaultServeMux 中注册了路径和 handler 的映射&lt;font color=&quot;#080808&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;/pre&gt;" style="ellipse;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontSize=11;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="-138.5" y="-1210" width="1215" height="450" as="geometry" />
        </mxCell>
        <mxCell id="fvp-rPb5a8MHUD-0Nkch-28" value="&lt;div style=&quot;background-color: rgb(255, 255, 255); color: rgb(8, 8, 8); font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 9.8pt;&quot;&gt;func (&lt;span style=&quot;color:#008a91;&quot;&gt;f &lt;/span&gt;&lt;span style=&quot;color:#336ecc;&quot;&gt;HandlerFunc&lt;/span&gt;) &lt;span style=&quot;color:#286d73;&quot;&gt;ServeHTTP&lt;/span&gt;(&lt;span style=&quot;color:#000000;&quot;&gt;w &lt;/span&gt;&lt;span style=&quot;color:#336ecc;&quot;&gt;ResponseWriter&lt;/span&gt;, &lt;span style=&quot;color:#000000;&quot;&gt;r &lt;/span&gt;*&lt;span style=&quot;color:#336ecc;&quot;&gt;Request&lt;/span&gt;) {&lt;br&gt;    &lt;span style=&quot;color:#008a91;&quot;&gt;f&lt;/span&gt;(&lt;span style=&quot;color:#000000;&quot;&gt;w&lt;/span&gt;, &lt;span style=&quot;color:#000000;&quot;&gt;r&lt;/span&gt;)&lt;br&gt;}&lt;/div&gt;" style="ellipse;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontSize=11;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="-10" y="3280" width="745" height="170" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
